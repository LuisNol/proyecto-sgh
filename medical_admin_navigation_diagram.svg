<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: 'Times New Roman', serif; font-size: 16px; font-weight: bold; }
      .role { font-family: 'Times New Roman', serif; font-size: 14px; font-weight: bold; }
      .module { font-family: 'Times New Roman', serif; font-size: 12px; }
      .permission { font-family: 'Times New Roman', serif; font-size: 10px; }
      .login-box { fill: white; stroke: black; stroke-width: 2; }
      .role-box { fill: white; stroke: black; stroke-width: 2; }
      .module-box { fill: white; stroke: black; stroke-width: 2; }
      .admin-box { fill: white; stroke: black; stroke-width: 2; }
      .arrow { stroke: #666; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .admin-access { stroke: #e91e63; stroke-width: 3; stroke-dasharray: 8,4; }
      .doctor-access { stroke: #2196f3; stroke-width: 3; stroke-dasharray: 8,4; }
      .receptionist-access { stroke: #ff9800; stroke-width: 3; stroke-dasharray: 8,4; }
      .controller-access { stroke: #9c27b0; stroke-width: 3; stroke-dasharray: 8,4; }
      .counselor-access { stroke: #4caf50; stroke-width: 3; stroke-dasharray: 8,4; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
  </defs>

  <!-- INICIAR SESIÓN -->
  <rect x="450" y="60" width="200" height="60" rx="8" class="login-box"/>
  <text x="550" y="80" text-anchor="middle" class="role" fill="black">INICIAR SESIÓN</text>
  <text x="550" y="100" text-anchor="middle" class="module" fill="black">Autenticación por Usuario</text>

  <!-- CERRAR SESIÓN -->
  <rect x="700" y="60" width="200" height="60" rx="8" class="login-box"/>
  <text x="800" y="80" text-anchor="middle" class="role" fill="black">CERRAR SESIÓN</text>
  <text x="800" y="100" text-anchor="middle" class="module" fill="black">Logout del Sistema</text>

  <!-- Roles -->
  <!-- Super-Admin -->
  <rect x="50" y="180" width="180" height="100" rx="8" class="admin-box"/>
  <text x="140" y="200" text-anchor="middle" class="role" fill="black">SUPER-ADMIN</text>
  <text x="140" y="220" text-anchor="middle" class="permission" fill="black">TODOS LOS PERMISOS</text>
  <text x="140" y="235" text-anchor="middle" class="permission" fill="black">Gestión completa</text>
  <text x="140" y="250" text-anchor="middle" class="permission" fill="black">del sistema</text>
  <text x="140" y="265" text-anchor="middle" class="permission" fill="black">Configuración global</text>

  <!-- Doctor -->
  <rect x="270" y="180" width="180" height="100" rx="8" class="role-box"/>
  <text x="360" y="200" text-anchor="middle" class="role" fill="black">DOCTOR</text>
  <text x="360" y="220" text-anchor="middle" class="permission" fill="black">list_patient, edit_patient</text>
  <text x="360" y="235" text-anchor="middle" class="permission" fill="black">profile_patient, list_appointment</text>
  <text x="360" y="250" text-anchor="middle" class="permission" fill="black">edit_appointment</text>
  <text x="360" y="265" text-anchor="middle" class="permission" fill="black">doctor_dashboard, attention</text>

  <!-- Recepcionista -->
  <rect x="490" y="180" width="180" height="100" rx="8" class="role-box"/>
  <text x="580" y="200" text-anchor="middle" class="role" fill="black">RECEPCIONISTA</text>
  <text x="580" y="220" text-anchor="middle" class="permission" fill="black">register_patient, list_patient</text>
  <text x="580" y="235" text-anchor="middle" class="permission" fill="black">edit_patient, delete_patient</text>
  <text x="580" y="250" text-anchor="middle" class="permission" fill="black">profile_patient, register_appointment</text>
  <text x="580" y="265" text-anchor="middle" class="permission" fill="black">list_appointment, edit_appointment</text>

  <!-- Controlador -->
  <rect x="710" y="180" width="180" height="100" rx="8" class="role-box"/>
  <text x="800" y="200" text-anchor="middle" class="role" fill="black">CONTROLADOR</text>
  <text x="800" y="220" text-anchor="middle" class="permission" fill="black">list_patient, edit_patient</text>
  <text x="800" y="235" text-anchor="middle" class="permission" fill="black">list_appointment</text>
  <text x="800" y="250" text-anchor="middle" class="permission" fill="black">edit_appointment</text>
  <text x="800" y="265" text-anchor="middle" class="permission" fill="black">admin_dashboard</text>

  <!-- Consejería -->
  <rect x="930" y="180" width="180" height="100" rx="8" class="role-box"/>
  <text x="1020" y="200" text-anchor="middle" class="role" fill="black">CONSEJERÍA</text>
  <text x="1020" y="220" text-anchor="middle" class="permission" fill="black">list_patient</text>
  <text x="1020" y="235" text-anchor="middle" class="permission" fill="black">edit_patient</text>
  <text x="1020" y="250" text-anchor="middle" class="permission" fill="black">Acceso limitado</text>
  <text x="1020" y="265" text-anchor="middle" class="permission" fill="black">a pacientes</text>

  <!-- Módulos del Sistema -->
  <!-- Tablero -->
  <rect x="50" y="350" width="150" height="80" rx="8" class="module-box"/>
  <text x="125" y="375" text-anchor="middle" class="role" fill="black">DASHBOARD</text>
  <text x="125" y="395" text-anchor="middle" class="module" fill="black">Dashboard Admin</text>
  <text x="125" y="410" text-anchor="middle" class="module" fill="black">Dashboard Doctor</text>

  <!-- Pacientes -->
  <rect x="220" y="350" width="150" height="80" rx="8" class="module-box"/>
  <text x="295" y="375" text-anchor="middle" class="role" fill="black">PACIENTES</text>
  <text x="295" y="395" text-anchor="middle" class="module" fill="black">Registrar, Listar</text>
  <text x="295" y="410" text-anchor="middle" class="module" fill="black">Editar, Eliminar, Perfil</text>

  <!-- Citas -->
  <rect x="390" y="350" width="150" height="80" rx="8" class="module-box"/>
  <text x="465" y="375" text-anchor="middle" class="role" fill="black">CITAS</text>
  <text x="465" y="395" text-anchor="middle" class="module" fill="black">Registrar, Listar</text>
  <text x="465" y="410" text-anchor="middle" class="module" fill="black">Editar, Eliminar</text>

  <!-- Doctores -->
  <rect x="560" y="350" width="150" height="80" rx="8" class="module-box"/>
  <text x="635" y="375" text-anchor="middle" class="role" fill="black">DOCTORES</text>
  <text x="635" y="395" text-anchor="middle" class="module" fill="black">Gestión de</text>
  <text x="635" y="410" text-anchor="middle" class="module" fill="black">Médicos</text>

  <!-- Personal -->
  <rect x="730" y="350" width="150" height="80" rx="8" class="module-box"/>
  <text x="805" y="375" text-anchor="middle" class="role" fill="black">PERSONAL</text>
  <text x="805" y="395" text-anchor="middle" class="module" fill="black">Gestión de</text>
  <text x="805" y="410" text-anchor="middle" class="module" fill="black">Personal</text>

  <!-- Roles y Permisos -->
  <rect x="900" y="350" width="150" height="80" rx="8" class="module-box"/>
  <text x="975" y="375" text-anchor="middle" class="role" fill="black">ROLES Y PERMISOS</text>
  <text x="975" y="395" text-anchor="middle" class="module" fill="black">Configuración</text>
  <text x="975" y="410" text-anchor="middle" class="module" fill="black">de Accesos</text>

  <!-- Especialidades -->
  <rect x="300" y="470" width="150" height="80" rx="8" class="module-box"/>
  <text x="375" y="495" text-anchor="middle" class="role" fill="black">ESPECIALIDADES</text>
  <text x="375" y="515" text-anchor="middle" class="module" fill="black">Gestión de</text>
  <text x="375" y="530" text-anchor="middle" class="module" fill="black">Especialidades</text>

  <!-- Reportes -->
  <rect x="470" y="470" width="150" height="80" rx="8" class="module-box"/>
  <text x="545" y="495" text-anchor="middle" class="role" fill="black">CALENDARIO</text>
  <text x="545" y="515" text-anchor="middle" class="module" fill="black">Generación de</text>
  <text x="545" y="530" text-anchor="middle" class="module" fill="black">Calendario</text>

  <!-- Flechas de Iniciar Sesión a Roles -->
  <line x1="500" y1="120" x2="140" y2="180" class="arrow"/>
  <line x1="530" y1="120" x2="360" y2="180" class="arrow"/>
  <line x1="550" y1="120" x2="580" y2="180" class="arrow"/>
  <line x1="570" y1="120" x2="800" y2="180" class="arrow"/>
  <line x1="600" y1="120" x2="1020" y2="180" class="arrow"/>

  <!-- Líneas de acceso según permisos - SEPARADAS PARA MEJOR VISIBILIDAD -->
  
  <!-- Super-Admin accede a todo - Rosa (líneas con offset) -->
  <line x1="135" y1="280" x2="120" y2="350" class="admin-access"/>
  <line x1="138" y1="280" x2="290" y2="350" class="admin-access"/>
  <line x1="141" y1="280" x2="460" y2="350" class="admin-access"/>
  <line x1="144" y1="280" x2="630" y2="350" class="admin-access"/>
  <line x1="147" y1="280" x2="800" y2="350" class="admin-access"/>
  <line x1="150" y1="280" x2="970" y2="350" class="admin-access"/>
  <line x1="135" y1="280" x2="370" y2="470" class="admin-access"/>
  <line x1="138" y1="280" x2="540" y2="470" class="admin-access"/>
 
  <!-- Doctor accede a Tablero, Pacientes, Citas - Azul (líneas con offset) -->
  <line x1="355" y1="280" x2="130" y2="350" class="doctor-access"/>
  <line x1="358" y1="280" x2="300" y2="350" class="doctor-access"/>
  <line x1="361" y1="280" x2="470" y2="350" class="doctor-access"/>

  <!-- Recepcionista accede a Pacientes, Citas - Naranja (líneas con offset) -->
  <line x1="575" y1="280" x2="305" y2="350" class="receptionist-access"/>
  <line x1="578" y1="280" x2="475" y2="350" class="receptionist-access"/>

  <!-- Controlador accede a Tablero, Pacientes, Citas - Morado (líneas con offset) -->
  <line x1="795" y1="280" x2="135" y2="350" class="controller-access"/>
  <line x1="798" y1="280" x2="310" y2="350" class="controller-access"/>
  <line x1="801" y1="280" x2="480" y2="350" class="controller-access"/>

  <!-- Consejería accede solo a Pacientes - Verde (línea con offset) -->
  <line x1="1015" y1="280" x2="315" y2="350" class="counselor-access"/>

  <!-- Flecha indicativa bidireccional entre Login y Logout -->
  <line x1="650" y1="90" x2="700" y2="90" class="arrow"/>
  <line x1="700" y1="90" x2="650" y2="90" class="arrow"/>

</svg>